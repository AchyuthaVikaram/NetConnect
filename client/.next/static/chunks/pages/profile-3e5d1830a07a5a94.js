(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{3235:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(9360)}])},5382:function(e,s,n){"use strict";n.d(s,{Z:function(){return c}});var r=n(5893),i=n(1163),t=n(7524),o=n(5007),a=n(9023),l=function(){let e=(0,i.useRouter)(),s=(0,o.I0)(),n=(0,o.v9)(e=>e.auth);return(0,r.jsxs)("nav",{className:t.container,children:[(0,r.jsx)("div",{className:t.leftContainer,children:(0,r.jsx)("h1",{onClick:()=>e.push("/"),children:"NetConnect"})}),(0,r.jsxs)("div",{className:t.rightContainer,children:[n.profileFetched&&(0,r.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,r.jsxs)("p",{children:["hey,",n.user.userId.name]}),(0,r.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,r.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),s((0,a.mc)()),e.push("/login")},style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]}),!n.profileFetched&&(0,r.jsx)("div",{onClick:()=>e.push("/login"),children:"Be a Part"})]})]})};function c(e){let{children:s}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(l,{}),s]})}n(7294)},9360:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return h}});var r=n(5893),i=n(5382),t=n(7294),o=n(3672);n(1163);var a=n(5007),l=n(4178),c=n(1989),d=n.n(c),u=n(3422),p=n(7026);function h(){var e,s,n;let c=(0,a.v9)(e=>e.posts),h=(0,a.v9)(e=>e.auth),m=(0,a.I0)(),[_,x]=(0,t.useState)([]),[f,v]=(0,t.useState)({}),[j,g]=(0,t.useState)(!1),[k,y]=(0,t.useState)({company:"",position:"",years:""}),N=e=>{y({...k,[e.target.name]:e.target.value})},[C,b]=(0,t.useState)(!1),[w,I]=(0,t.useState)({school:"",degree:"",filedOfStudy:""}),W=e=>{I({...w,[e.target.name]:e.target.value})},B=()=>{m((0,l.Bd)())};(0,t.useEffect)(()=>{null==h.user.userId?(m((0,p.is)()),v(h.user)):x(c.posts.filter(e=>e.userId.username===h.user.userId.username))},[c.posts]),(0,t.useEffect)(()=>{B()},[]);let S=async e=>{let s=new FormData;s.append("profilePicture",e),s.append("token",localStorage.getItem("token"));try{await u.n.post("/update_profile_picture",s,{headers:{"Content-Type":"multipart/form-data"}}),m((0,p.is)()),v(h.user)}catch(e){console.log(e)}};(0,t.useEffect)(()=>{v(h.user)},[h.user]);let E=async()=>{try{await u.n.post("/user_update",{token:localStorage.getItem("token"),name:f.userId.name}),await u.n.post("/update_profile_data",{token:localStorage.getItem("token"),bio:f.bio,currPost:f.currPost,pastWork:f.pastWork,education:f.education}),m((0,p.is)())}catch(e){console.log(e)}};return(0,r.jsx)(i.Z,{children:(0,r.jsxs)(o.Z,{children:[h.user.userId&&(0,r.jsxs)("div",{className:d().container,children:[(0,r.jsxs)("div",{className:d().backDropConatiner,children:[(0,r.jsx)("label",{htmlFor:"profilePictureUpload",className:d().backdrop_overlay,children:(0,r.jsx)("p",{children:"Edit"})}),(0,r.jsx)("input",{type:"file",hidden:!0,id:"profilePictureUpload",name:"profilePictureUpload",onChange:e=>{S(e.target.files[0])}}),(0,r.jsx)("img",{className:d().backDropImage,src:"default.jpg"===h.user.userId.profilePicture?"".concat(u._,"/").concat(h.user.userId.profilePicture):h.user.userId.profilePicture,alt:"usreImg"})]}),(0,r.jsx)("div",{className:d().profile_conatiner,children:(0,r.jsxs)("div",{className:d().profile_style,children:[(0,r.jsxs)("div",{style:{flex:"0.7"},children:[(0,r.jsxs)("div",{className:d().inputParent,children:[(0,r.jsx)("input",{className:d().nameEdit,type:"text",value:null===(e=f.userId)||void 0===e?void 0:e.name,onChange:e=>{v({...f,userId:{...f.userId,name:e.target.value}})}}),(0,r.jsx)("input",{className:d().userNameEdit,type:"text",value:"@"+(null===(s=f.userId)||void 0===s?void 0:s.username),onChange:e=>{v({...f,userId:{...f.userId,username:e.target.value}})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("textarea",{name:"bio",onChange:e=>{v({...f,bio:e.target.value})},value:f.bio,rows:Math.max(3,Math.ceil((null===(n=f.bio)||void 0===n?void 0:n.length)/80)),style:{width:"100%"}}),(0,r.jsx)("p",{children:h.user.userId.bio})]}),(0,r.jsxs)("div",{className:d().work_history,children:[(0,r.jsx)("h4",{style:{marginBlock:"1rem"},children:"Work History"}),(0,r.jsx)("div",{className:d().work_history_list,children:h.user.pastWork.map((e,s)=>(0,r.jsxs)("div",{className:d().work_history_card,children:[(0,r.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"1.5rem",marginBlock:"1rem"},children:[e.company," -",e.position]}),(0,r.jsxs)("p",{children:[" ",(0,r.jsx)("span",{style:{color:"gray",paddingRight:"0.5rem"},children:"Working Years:"}),e.years]})]},s))}),(0,r.jsx)("button",{onClick:()=>{g(!0)},className:d().addWorkBtn,children:"Add Work"})]}),(0,r.jsxs)("div",{className:d().work_history,children:[(0,r.jsx)("h4",{style:{marginBlock:"1rem"},children:"Education"}),(0,r.jsx)("div",{className:d().work_history_list,children:h.user.education.map((e,s)=>(0,r.jsxs)("div",{className:d().work_history_card,children:[(0,r.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"1.5rem",marginBlock:"1rem"},children:[(0,r.jsx)("p",{children:e.school}),(0,r.jsxs)("p",{children:["-",e.degree]})]}),(0,r.jsxs)("p",{children:[" ",(0,r.jsx)("span",{style:{color:"gray",paddingRight:"0.5rem"},children:"Field Of Study:"}),e.filedOfStudy]})]},s))}),(0,r.jsx)("button",{onClick:()=>{b(!0)},className:d().addWorkBtn,children:"Add Education"})]}),f!==h.user&&(0,r.jsxs)("button",{onClick:E,className:d().saveChanges,children:[" ","update"]})]}),(0,r.jsxs)("div",{style:{flex:"0.3",width:"100%"},children:[(0,r.jsx)("h3",{style:{marginBlock:"1rem"},children:"Recent Activity"}),_.map((e,s)=>(0,r.jsx)("div",{className:d().postCard,children:(0,r.jsxs)("div",{className:d().card,children:[(0,r.jsx)("div",{className:d().card_profile,children:""!==e.media?(0,r.jsx)("img",{src:"".concat(e.media),alt:"post media"}):(0,r.jsx)("p",{children:"No Media"})}),(0,r.jsxs)("p",{children:[e.body.length>20?e.body.substring(0,20)+"...":e.body," "]})]})},s))]})]})})]}),j&&(0,r.jsx)("div",{onClick:()=>{g(!1)},className:d().commentContainer,children:(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:d().commentBox,children:[(0,r.jsx)("div",{className:d().input,children:(0,r.jsx)("input",{type:"text",placeholder:"Company",name:"company",id:"company",className:d().input_control,value:k.company,onChange:N})}),(0,r.jsx)("div",{className:d().input,children:(0,r.jsx)("input",{type:"text",placeholder:"Position",name:"position",id:"position",className:d().input_control,value:k.position,onChange:N})}),(0,r.jsx)("div",{className:d().input,children:(0,r.jsx)("input",{type:"text",placeholder:"Years",name:"years",id:"years",className:d().input_control,value:k.years,onChange:N})}),(0,r.jsx)("button",{onClick:()=>{v({...f,pastWork:[...f.pastWork,k]}),company,g(!1)},className:d().submit_button,children:"Add Work"})]})}),C&&(0,r.jsx)("div",{onClick:()=>{b(!1)},className:d().commentContainer,children:(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:d().commentBox,children:[(0,r.jsx)("div",{className:d().input,children:(0,r.jsx)("input",{type:"text",placeholder:"Name of College/School",name:"school",id:"school",className:d().input_control,value:w.school,onChange:W})}),(0,r.jsx)("div",{className:d().input,children:(0,r.jsx)("input",{type:"text",placeholder:"Name of Degree",name:"degree",id:"degree",className:d().input_control,value:w.degree,onChange:W})}),(0,r.jsx)("div",{className:d().input,children:(0,r.jsx)("input",{type:"text",placeholder:"Field of Study",name:"filedOfStudy",id:"filedOfStudy",className:d().input_control,value:w.filedOfStudy,onChange:W})}),(0,r.jsx)("button",{onClick:()=>{v({...f,education:[...f.education,w]}),b(!1)},className:d().submit_button,children:"Add Education"})]})})]})})}},7524:function(e){e.exports={container:"styles_container__zTAGv",leftContainer:"styles_leftContainer__ZTstV",rightContainer:"styles_rightContainer__Mi1_A"}},4533:function(e){e.exports={container:"styles_container__JRQAT",home_container:"styles_home_container__NSEeA",home_leftContainer:"styles_home_leftContainer__Ri1Oc",sidebar:"styles_sidebar__KdNlT",feed_container:"styles_feed_container__hLlJ3",extra_container:"styles_extra_container__tc5j0",mobileNavbar:"styles_mobileNavbar__znYkb"}},1989:function(e){e.exports={container:"profile_container__oOWE6",backDropConatiner:"profile_backDropConatiner__13OBc",backDropImage:"profile_backDropImage__qZiOc",profile_conatiner:"profile_profile_conatiner__VNIMU",backdrop_overlay:"profile_backdrop_overlay__FqW15",card:"profile_card__cvuSz",card_profile:"profile_card_profile__EmIQt",connectButton:"profile_connectButton__WK0Lm",connectedButton:"profile_connectedButton__C6BMm",work_history:"profile_work_history__uAZQU",work_history_list:"profile_work_history_list__WhIx7",work_history_card:"profile_work_history_card__6ot3W",inputParent:"profile_inputParent__AyF4n",nameEdit:"profile_nameEdit__JI1j_",userNameEdit:"profile_userNameEdit___ayYJ",saveChanges:"profile_saveChanges__OQshS",addWorkBtn:"profile_addWorkBtn__YOF98",commentContainer:"profile_commentContainer__txCfH",commentBox:"profile_commentBox__5yDbu",input:"profile_input__gbinZ",input_control:"profile_input_control__P08nl",submit_button:"profile_submit_button__fxMv1",profile_style:"profile_profile_style___WNOC"}},1163:function(e,s,n){e.exports=n(3079)},3672:function(e,s,n){"use strict";var r=n(5893),i=n(1163),t=n(4533),o=n(5007),a=n(7294),l=n(9023),c=n(7026);s.Z=function(e){let{children:s}=e,n=(0,i.useRouter)(),d=(0,o.v9)(e=>e.auth),u=(0,o.I0)();return(0,a.useEffect)(()=>{localStorage.getItem("token")||n.push("/login"),u((0,l.yX)()),d.all_profiles_fetched||u((0,c.AW)())},[]),(0,a.useEffect)(()=>{u((0,c.is)())},[d.isTokenThere]),(0,r.jsx)("div",{className:t.container,children:(0,r.jsxs)("div",{className:t.home_container,children:[(0,r.jsxs)("div",{onClick:()=>n.push("/dashboard"),className:t.home_leftContainer,children:[(0,r.jsxs)("div",{className:t.sidebar,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,r.jsx)("p",{children:"Home"})]}),(0,r.jsxs)("div",{onClick:()=>n.push("/discover"),className:t.sidebar,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,r.jsx)("p",{children:"Discover"})]}),(0,r.jsxs)("div",{onClick:()=>n.push("/my_connections"),className:t.sidebar,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),(0,r.jsx)("p",{children:"My Connections"})]})]}),(0,r.jsx)("div",{className:t.feed_container,children:s}),(0,r.jsxs)("div",{className:t.extra_container,children:[(0,r.jsx)("h3",{children:"Top Profiles"}),d.all_profiles_fetched&&d.all_users.map((e,s)=>{var i;return(0,r.jsx)("div",{onClick:()=>{n.push("/view_profile/".concat(e.userId.username))},style:{margin:"1rem",cursor:"pointer"},className:t.extra_item,children:(0,r.jsx)("p",{children:null===(i=e.userId)||void 0===i?void 0:i.name})},s)})]}),(0,r.jsxs)("div",{className:t.mobileNavbar,children:[(0,r.jsx)("div",{onClick:()=>n.push("/dashboard"),className:t.mobileNavbarSingleItem,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),(0,r.jsx)("div",{onClick:()=>n.push("/discover"),className:t.mobileNavbarSingleItem,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),(0,r.jsx)("div",{onClick:()=>n.push("/my_connections"),className:t.mobileNavbarSingleItem,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})})})]})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3235)}),_N_E=e.O()}]);